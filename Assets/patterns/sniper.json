{
  "name": "sniper",
  "description": "Aims at player and fires bursts from offset positions",
  "parameters": {
    "bulletSpeed": {
      "type": "float",
      "default": 15,
      "description": "Bullet speed"
    },
    "burstCount": {
      "type": "int",
      "default": 5,
      "description": "Bullets per burst"
    },
    "burstDelay": {
      "type": "int",
      "default": 1,
      "description": "Frames between bullets in burst"
    },
    "orbitDistance": {
      "type": "float",
      "default": 200,
      "description": "Distance from enemy to spawn bullets"
    },
    "patternDelay": {
      "type": "int",
      "default": 60,
      "description": "Frames between bursts"
    }
  },
  "script": [
    {
      "control": "Loop",
      "actions": [
        {"control": "SetSpeed", "value": "$bulletSpeed"},
        {"control": "SetOffset", "distance": 0, "angle": 0},
        {"control": "RandomAngle", "min": 0, "max": 360},
        {"control": "CopyAngleToOffset"},
        {"control": "AddOffset", "distanceDelta": "$orbitDistance", "angleDelta": 0},
        {"control": "AimAtPlayer"},
        {
          "control": "Rep",
          "count": "$burstCount",
          "actions": [
            {"control": "Fire", "angle": 0, "speed": 0},
            {"control": "AddSpeed", "delta": -1.0}
          ]
        },
        {"control": "SetOffset", "distance": 0, "angle": 0},
        {"control": "Wait", "frames": "$patternDelay"}
      ]
    }
  ]
}